# esp32_hd LV version
Rectification and destillation  controller based on ESP32.

## Version history
- #### v0.7.4.7
    + поддержан Telegram, сообщения об этапах процесса могут отправляться на telegram-бот 
- #### v0.7.4.6
    + v0.7.4.6: добавлена отдельная настройка температуры завершения разгона дистилляции
    			         увеличена точность программного ШИМ (была погрешность из-за бага округления на малых периодах )
    			         исправлен баг: отсутствие тревоги по температуре при эмуляции датчиков 
- #### v0.7.4.5 
    + исправлен баг: некорректное переключение состояний процесса дистилляции
- #### v0.7.4.4 
    + Можно вручную менять Тстабилизации
    + Можно вручную менять ШИМ отбора тела - делается включением ШИМ на клапане продукта, какой ШИМ будет задан такой и будет зафиксирован
    + логика инициализации этапа (мощность, клапана) рализована в начале этапа. Исправляет баг невключения клапанов (охлаждение, отбор) после рестарта в ходе процесса
    + добавлена возможность эмуляции датчиков температуры (на WEB странице "Датчики") - включить "галку", выбрать тип датчика и задать его температуру. Выход из режима эмуляции - рестарт
    + при тревоге по превышению температуры , аварийный датчик на WEB-странице подсвечивается красным
    + добавлена новая настройка "Регулятор-стабилизатор не используется" - выключает контроль PZEM
    + изменена логика завершения этапа "охлаждение". На ректификации охлаждение завершается при снижении Т низа колонны на 6 градусов, при дистилляции при снижении Т куба на 1 градус
    + на WEB-странице
        - добавлена проверка обрыва связи с контроллером по принципу watchdog: добавлен счетчик, каждый WSпакет от контроллера сбрасывает его в ноль, если счетчик досчитал до 10 сек - то значит связь потеряна, в верхнем левом углу цвет индикатора меняется на красный. Там же счетчик который показывает число секунд после последнего WS-пакета
        - добавлен звук при аварии
        - на главной страничке на строчке "авария" добавлена "галка" которой можно выключить "пищалку" при аварии
        - добавлено порядка на странице "Параметры" - позиции рассортированы по смыслу и процессам.
